{"version":3,"file":"static/js/752.a2049a5f.chunk.js","mappings":"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","sources":["pages/orders/OrderProcessView.js"],"sourcesContent":["import { makeStyles } from \"@mui/styles\";\r\nimport { Box, Grid, Stack, Typography, useTheme } from \"@mui/material\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Container from \"../../components/Container\";\r\nimport Modal from \"../../components/Modal\";\r\nimport ResponsiveImages from \"../../components/ReponsiveImages\";\r\nimport { portal_config } from \"../../portal.config\";\r\nimport { cache, order_key } from \"../../utils/cache\";\r\nimport { getCurrencySymbol, getLogoImage } from \"../../utils/common\";\r\nimport { formatAmount } from \"../../utils/util\";\r\nimport { dataUtil, usage_type } from \"../../wsclient/crmservices/dataUtil\";\r\n\r\nexport default function OrderProcessView(props) {\r\n    const { t } = useTranslation();\r\n    const { message } = props;\r\n    const { palette } = useTheme();\r\n\r\n    console.log(\"AAAA ProcessView: \", props)\r\n\r\n    const currency = cache.getCurrency();\r\n    const carts = cache.getCartItem();\r\n    const estimateOrder = cache.getCacheByKey(order_key.estimate_order_result);\r\n\r\n    const getComponent = (items) => {\r\n        var componentStr = '';\r\n        items.forEach(item => {\r\n            componentStr = componentStr + item.name + \", \";\r\n        });\r\n        if (componentStr) {\r\n            componentStr = componentStr.substr(0, componentStr.length - 2);\r\n        }\r\n        return componentStr;\r\n    }\r\n\r\n    const getVariants = (items) => {\r\n        var variantStr = '';\r\n        items.forEach(item => {\r\n            variantStr = variantStr + item.value + \", \";\r\n        });\r\n        if (variantStr) {\r\n            variantStr = variantStr.substr(0, variantStr.length - 2);\r\n        }\r\n        return variantStr;\r\n    }\r\n\r\n    return (\r\n        <Container showProcessing={props.showProcessing}>\r\n            <Modal isOpen={props.orderStatus == false} onClose={props.onClose} enableCloseButton title={t('order_failed')}>\r\n                <Grid item xs={12}>\r\n                    <Grid item xs={12} container justifyContent={'center'} my={1}>\r\n                        {message && message.show && <>\r\n                            <Typography variant=\"subtitle1\" color={palette.error.main}>{message.content}</Typography>\r\n                        </>}\r\n                    </Grid>\r\n                    {carts && carts.length > 0 && carts.map((item, index) => {\r\n                        return (\r\n                            <Stack key={index} direction={'row'} flex={1} spacing={2} marginTop={2} marginBottom={2} position={\"relative\"}>\r\n                                <Stack sx={{\r\n                                    width: 80\r\n                                }}>\r\n                                    <ItemImage image={dataUtil.getImageByUsageType(item.creatives, usage_type.product_item)} />\r\n                                </Stack>\r\n                                <Stack flex={2}>\r\n                                    <Stack direction={'row'} spacing={1} alignItems={'center'}>\r\n                                        <Typography variant='subtitle1'>{item.quantity}x {item.name}</Typography>\r\n                                        {item.variant_selected && item.variant_selected.length > 0 &&\r\n                                            <Typography color='primary' variant='subtitle1'>{getVariants(item.variant_selected)}</Typography>\r\n                                        }\r\n                                    </Stack>\r\n                                    {item.components && item.components.length > 0 && <Grid xs={12} item marginTop={0.5}>\r\n                                        <Typography variant='subtitle2'>{getComponent(item.components)}</Typography>\r\n                                    </Grid>}\r\n                                </Stack>\r\n                            </Stack>\r\n                        )\r\n                    })}\r\n                    <Box>\r\n                        <Stack flex={1} direction={'row'} spacing={1} justifyContent={'flex-end'} alignItems={'flex-end'} marginRight={5}>\r\n                            <Typography variant='subtitle2'>{t('total')}:</Typography>\r\n                            <Typography variant='subtitle1'>{currency}{estimateOrder && estimateOrder.invoice_estimate && estimateOrder.invoice_estimate.total ? formatAmount(estimateOrder.invoice_estimate.total, portal_config.isFormatDecimalBalance) : \"0.00\"}</Typography>\r\n                        </Stack>\r\n                        <Stack flex={1} direction={'row'} spacing={1} justifyContent={'flex-end'} alignItems={'flex-end'} marginRight={5}>\r\n                            <Typography variant='subtitle2'>{t('amount_due')}:</Typography>\r\n                            <Typography variant='subtitle1'>{currency}{estimateOrder && estimateOrder.invoice_estimate && estimateOrder.invoice_estimate.amount_due ? formatAmount(estimateOrder.invoice_estimate.amount_due, portal_config.isFormatDecimalBalance) : \"0.00\"}</Typography>\r\n                        </Stack>\r\n                    </Box>\r\n                </Grid>\r\n            </Modal>\r\n        </Container>\r\n    )\r\n}\r\n\r\nfunction ItemImage(props) {\r\n    const classes = useStyles();\r\n    if (props.image && props.image.length > 0) {\r\n        // return <img src={props.image.url} width={80} height={80} style={{ objectFit: 'cover' }} />\r\n        return <ResponsiveImages media={props.image} classes={classes.process_item_image} />\r\n    } return <img src={getLogoImage()} width={80} height={80} style={{ objectFit: 'cover' }} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    process_item_image: {\r\n        width: 80,\r\n        height: 80,\r\n        objectFit: 'cover',\r\n    },\r\n}))"],"names":["OrderProcessView","props","t","useTranslation","message","palette","useTheme","console","log","currency","cache","getCurrency","carts","getCartItem","estimateOrder","getCacheByKey","order_key","estimate_order_result","getComponent","items","componentStr","forEach","item","name","substr","length","getVariants","variantStr","value","_jsx","Container","showProcessing","children","Modal","isOpen","orderStatus","onClose","enableCloseButton","title","_jsxs","Grid","xs","container","justifyContent","my","show","_Fragment","Typography","variant","color","error","main","content","map","index","Stack","direction","flex","spacing","marginTop","marginBottom","position","sx","width","ItemImage","image","dataUtil","getImageByUsageType","creatives","usage_type","product_item","alignItems","quantity","variant_selected","components","Box","marginRight","invoice_estimate","total","formatAmount","portal_config","isFormatDecimalBalance","amount_due","classes","useStyles","ResponsiveImages","media","process_item_image","src","getLogoImage","height","style","objectFit","makeStyles","theme"],"sourceRoot":""}