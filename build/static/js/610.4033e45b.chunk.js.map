{"version":3,"file":"static/js/610.4033e45b.chunk.js","mappings":"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","sources":["pages/orders/OrderProcessController.js","pages/orders/OrderProcessView.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport LoadingComponent from \"../../components/Loading\";\r\nimport { cache, order_key } from \"../../utils/cache\";\r\nimport OrderProcessView from \"./OrderProcessView\";\r\nimport crmservices from '../../wsclient';\r\nimport OrderResultView from \"./OrderResultView\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { config_path } from \"../../router/config.path\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { isGuid } from \"../../utils/util\";\r\n\r\nexport default function OrderProcess(props) {\r\n    const { t } = useTranslation();\r\n    const navigate = useNavigate();\r\n    const [showProcessing, setShowProcessing] = useState(false);\r\n    const [message, setMessage] = useState(null);\r\n    const [orderStatus, setOrderStatus] = useState(undefined);\r\n    const [showModalResult, setModalShowResult] = useState(undefined);\r\n    const [orderResult, setOrderResult] = useState(null);\r\n\r\n    const order_type = cache.getOrderType();\r\n    const region = cache.getOrderRegion();\r\n    \r\n    useEffect(() => {\r\n        init()\r\n    }, [])\r\n\r\n    const init = async () => {\r\n        setShowProcessing(true);\r\n        let path = window.location.pathname;\r\n        let token = cache.getOrderToken(order_key.order_token);\r\n        let parts = path.split(\"/\");\r\n        let intent_id = parts.pop();\r\n        \r\n        if (path && path.search(token) > 0 && path.includes('success')) {\r\n            await processMakeOrder(intent_id);\r\n        } else {\r\n            showMessage({ status: true, message: t('ORDER_PAYMENT_FAILED') })\r\n            setOrderStatus(false);\r\n        }\r\n        setShowProcessing(false);\r\n    }\r\n\r\n    const processMakeOrder = async (intent_id) => {\r\n        try {\r\n            let payload = cache.getOrderToBeProcess();\r\n            if(intent_id /*&& isGuid(intent_id)*/) payload.intent_id = intent_id;\r\n            var result = await crmservices.orders.makeOrder(payload);\r\n            if (result.code == 'OK') {\r\n                var orderResult = result.data;\r\n                var orderDetailResult = await crmservices.orders.getOrder(result.data.id);\r\n                if (orderDetailResult.code === 'OK') {\r\n                    orderResult.key_dates = orderDetailResult.data.key_dates\r\n                    orderResult.total_cost = orderDetailResult.data.total\r\n                    orderResult.order_items = orderDetailResult.data.items\r\n                    orderResult.amount_due = orderDetailResult.data.amount_due\r\n                }\r\n                setOrderResult(orderResult);\r\n                setModalShowResult(true);\r\n            } else if (result.code == 'CAN_NOT_FULFILL_ORDER_EXCEPTION') {\r\n                showMessage({ status: true, message: order_type === 'DELIVERY' ? t('CAN_NOT_FULFILL_ORDER_EXCEPTION_DELIVERY') : t('CAN_NOT_FULFILL_ORDER_EXCEPTION_PICK_UP') })\r\n            } else if (result.code == 'MINIMUM_ORDER_AMOUNT_NOT_REACHED') {\r\n                let params = result.data && result.data.parameters && result.data.parameters.length > 0 ? result.data.parameters[0] : \"â‚¬0.00\"\r\n                showMessage({ status: true, message: t('MINIMUM_ORDER_AMOUNT_NOT_REACHED') + params })\r\n            } else if (result.code == 'CANNOTEXECUTEACTIONCREDITLIMITEXCEPTION') {\r\n                showMessage({ status: true, message: t('CANNOTEXECUTEACTIONCREDITLIMITEXCEPTION') })\r\n            } else {\r\n                showMessage({ status: true, message: t('EXCEPTION_PROCESS') })\r\n            }\r\n            setOrderStatus(false);\r\n        } catch (error) {\r\n            console.log(\"AAAA processMakeOrder exception: \", error)\r\n            setOrderStatus(false);\r\n        }\r\n    }\r\n\r\n    const showMessage = ({ status, title, message, otherMessage, callBackFn }) => {\r\n        setShowProcessing(false);\r\n        setMessage({ show: status, title: title, content: message, otherMessage, callBackFn: callBackFn ? callBackFn : () => setMessage({}) });\r\n    }\r\n\r\n    const onCloseResult = () => {\r\n        setModalShowResult(false);\r\n        cache.clearOrder();\r\n        if(props.from == 'commerce') {\r\n            navigate(config_path.commerce);\r\n        } else {\r\n            navigate(config_path.home);\r\n        }\r\n        cache.clearOrder();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <OrderProcessView\r\n                showProcessing={showProcessing}\r\n                message={message}\r\n                orderStatus={orderStatus}\r\n                onClose={onCloseResult}\r\n            />\r\n            {showModalResult && <OrderResultView\r\n                isOpen={showModalResult}\r\n                order_result={orderResult}\r\n                order_type={order_type}\r\n                region={region}\r\n                pick_up_store={cache.getCacheByKey(order_key.pick_up_store)}\r\n                delivery_address={cache.getCacheByKey(order_key.delivery_address)}\r\n                contact_phone={cache.getCacheByKey(order_key.contact_phone)}\r\n                estimate_order_result={cache.getCacheByKey(order_key.estimate_order_result)}\r\n                onClose={onCloseResult}\r\n            />}\r\n        </>\r\n    )\r\n}","import { makeStyles } from \"@mui/styles\";\r\nimport { Box, Grid, Stack, Typography, useTheme } from \"@mui/material\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Container from \"../../components/Container\";\r\nimport Modal from \"../../components/Modal\";\r\nimport ResponsiveImages from \"../../components/ReponsiveImages\";\r\nimport { portal_config } from \"../../portal.config\";\r\nimport { cache, order_key } from \"../../utils/cache\";\r\nimport { getCurrencySymbol, getLogoImage } from \"../../utils/common\";\r\nimport { formatAmount } from \"../../utils/util\";\r\nimport { dataUtil, usage_type } from \"../../wsclient/crmservices/dataUtil\";\r\n\r\nexport default function OrderProcessView(props) {\r\n    const { t } = useTranslation();\r\n    const { message } = props;\r\n    const { palette } = useTheme();\r\n\r\n    console.log(\"AAAA ProcessView: \", props)\r\n\r\n    const currency = cache.getCurrency();\r\n    const carts = cache.getCartItem();\r\n    const estimateOrder = cache.getCacheByKey(order_key.estimate_order_result);\r\n\r\n    const getComponent = (items) => {\r\n        var componentStr = '';\r\n        items.forEach(item => {\r\n            componentStr = componentStr + item.name + \", \";\r\n        });\r\n        if (componentStr) {\r\n            componentStr = componentStr.substr(0, componentStr.length - 2);\r\n        }\r\n        return componentStr;\r\n    }\r\n\r\n    const getVariants = (items) => {\r\n        var variantStr = '';\r\n        items.forEach(item => {\r\n            variantStr = variantStr + item.value + \", \";\r\n        });\r\n        if (variantStr) {\r\n            variantStr = variantStr.substr(0, variantStr.length - 2);\r\n        }\r\n        return variantStr;\r\n    }\r\n\r\n    return (\r\n        <Container showProcessing={props.showProcessing}>\r\n            <Modal isOpen={props.orderStatus == false} onClose={props.onClose} enableCloseButton title={t('order_failed')}>\r\n                <Grid item xs={12}>\r\n                    <Grid item xs={12} container justifyContent={'center'} my={1}>\r\n                        {message && message.show && <>\r\n                            <Typography variant=\"subtitle1\" color={palette.error.main}>{message.content}</Typography>\r\n                        </>}\r\n                    </Grid>\r\n                    {carts && carts.length > 0 && carts.map((item, index) => {\r\n                        return (\r\n                            <Stack key={index} direction={'row'} flex={1} spacing={2} marginTop={2} marginBottom={2} position={\"relative\"}>\r\n                                <Stack sx={{\r\n                                    width: 80\r\n                                }}>\r\n                                    <ItemImage image={dataUtil.getImageByUsageType(item.creatives, usage_type.product_item)} />\r\n                                </Stack>\r\n                                <Stack flex={2}>\r\n                                    <Stack direction={'row'} spacing={1} alignItems={'center'}>\r\n                                        <Typography variant='subtitle1'>{item.quantity}x {item.name}</Typography>\r\n                                        {item.variant_selected && item.variant_selected.length > 0 &&\r\n                                            <Typography color='primary' variant='subtitle1'>{getVariants(item.variant_selected)}</Typography>\r\n                                        }\r\n                                    </Stack>\r\n                                    {item.components && item.components.length > 0 && <Grid xs={12} item marginTop={0.5}>\r\n                                        <Typography variant='subtitle2'>{getComponent(item.components)}</Typography>\r\n                                    </Grid>}\r\n                                </Stack>\r\n                            </Stack>\r\n                        )\r\n                    })}\r\n                    <Box>\r\n                        <Stack flex={1} direction={'row'} spacing={1} justifyContent={'flex-end'} alignItems={'flex-end'} marginRight={5}>\r\n                            <Typography variant='subtitle2'>{t('total')}:</Typography>\r\n                            <Typography variant='subtitle1'>{currency}{estimateOrder && estimateOrder.invoice_estimate && estimateOrder.invoice_estimate.total ? formatAmount(estimateOrder.invoice_estimate.total, portal_config.isFormatDecimalBalance) : \"0.00\"}</Typography>\r\n                        </Stack>\r\n                        <Stack flex={1} direction={'row'} spacing={1} justifyContent={'flex-end'} alignItems={'flex-end'} marginRight={5}>\r\n                            <Typography variant='subtitle2'>{t('amount_due')}:</Typography>\r\n                            <Typography variant='subtitle1'>{currency}{estimateOrder && estimateOrder.invoice_estimate && estimateOrder.invoice_estimate.amount_due ? formatAmount(estimateOrder.invoice_estimate.amount_due, portal_config.isFormatDecimalBalance) : \"0.00\"}</Typography>\r\n                        </Stack>\r\n                    </Box>\r\n                </Grid>\r\n            </Modal>\r\n        </Container>\r\n    )\r\n}\r\n\r\nfunction ItemImage(props) {\r\n    const classes = useStyles();\r\n    if (props.image && props.image.length > 0) {\r\n        // return <img src={props.image.url} width={80} height={80} style={{ objectFit: 'cover' }} />\r\n        return <ResponsiveImages media={props.image} classes={classes.process_item_image} />\r\n    } return <img src={getLogoImage()} width={80} height={80} style={{ objectFit: 'cover' }} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    process_item_image: {\r\n        width: 80,\r\n        height: 80,\r\n        objectFit: 'cover',\r\n    },\r\n}))"],"names":["OrderProcess","props","t","useTranslation","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","showProcessing","setShowProcessing","_useState3","_useState4","message","setMessage","_useState5","undefined","_useState6","orderStatus","setOrderStatus","_useState7","_useState8","showModalResult","setModalShowResult","_useState9","_useState10","orderResult","setOrderResult","order_type","cache","getOrderType","region","getOrderRegion","useEffect","init","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","path","token","parts","intent_id","wrap","_context","prev","next","window","location","pathname","getOrderToken","order_key","order_token","split","pop","search","includes","processMakeOrder","showMessage","status","stop","apply","arguments","_ref2","_callee2","payload","result","orderDetailResult","params","_context2","getOrderToBeProcess","crmservices","orders","makeOrder","sent","code","data","getOrder","id","key_dates","total_cost","total","order_items","items","amount_due","parameters","length","t0","console","log","_x","_ref3","title","otherMessage","callBackFn","show","content","onCloseResult","clearOrder","from","config_path","commerce","home","_jsxs","_Fragment","children","_jsx","OrderProcessView","onClose","OrderResultView","isOpen","order_result","pick_up_store","getCacheByKey","delivery_address","contact_phone","estimate_order_result","palette","useTheme","currency","getCurrency","carts","getCartItem","estimateOrder","getComponent","componentStr","forEach","item","name","substr","getVariants","variantStr","value","Container","Modal","enableCloseButton","Grid","xs","container","justifyContent","my","Typography","variant","color","error","main","map","index","Stack","direction","flex","spacing","marginTop","marginBottom","position","sx","width","ItemImage","image","dataUtil","getImageByUsageType","creatives","usage_type","product_item","alignItems","quantity","variant_selected","components","Box","marginRight","invoice_estimate","formatAmount","portal_config","isFormatDecimalBalance","classes","useStyles","ResponsiveImages","media","process_item_image","src","getLogoImage","height","style","objectFit","makeStyles","theme"],"sourceRoot":""}