"use strict";(self.webpackChunkconsumerportal_v2=self.webpackChunkconsumerportal_v2||[]).push([[907],{20907:function(e,n,r){r.r(n),r.d(n,{default:function(){return w}});var t=r(29439),a=r(72791),o=r(13967),s=r(68870),i=r(61889),c=r(20890),d=r(13400),l=r(13239),u=r(15021),x=r(36151),m=r(39230),f=(r(30681),r(26580),r(40642)),h=r(81289),j=r(6992),C=r(88216),g=r(99298),p=r(60151),Z=r(80184),y=g.custom_page.add_card&&g.custom_page.add_card.controller?r(51678).default:j.default,_="JCC";function w(e){var n=f.cache.getAppConfig(),r=(0,m.$G)().t,j=(0,o.Z)().palette,g=e.cards,w=(0,a.useState)(!1),b=(0,t.Z)(w,2),k=b[0],P=b[1],v=!!(n&&n.features&&n.features.contact&&n.features.contact.reward&&n.features.contact.reward.is_supported)&&n.features.contact.reward.is_supported,I=!!(n&&n.features&&n.features.contact&&n.features.contact.order&&n.features.contact.order.is_supported)&&n.features.contact.order.is_supported;return v=!!(n&&n.features&&n.features.contact&&n.features.contact.reward&&n.features.contact.reward.return_cashback),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(C.default,{title:r("my_cards"),isOpen:e.open,onClose:e.onClose,showProcessing:e.showProcessing,message:e.message,children:[I&&(0,Z.jsxs)(s.Z,{children:[(0,Z.jsxs)(i.ZP,{item:!0,direction:"row",my:4,container:!0,xs:12,children:[(0,Z.jsx)(i.ZP,{item:!0,xs:12,container:!0,alignContent:"center",children:(0,Z.jsx)(c.Z,{variant:"h6",children:r("my_cards_orders")})}),(0,Z.jsx)(i.ZP,{item:!0,xs:12,container:!0,justifyContent:"flex-end",alignContent:"center",children:(0,Z.jsx)(d.Z,{sx:{background:"transparent"},onClick:function(){return P((function(e){return!e}))},children:k?(0,Z.jsx)(c.Z,{children:"Done"}):(0,Z.jsx)(h.DeleteIcon,{color:"#8D3395"})})})]}),e.showLoading&&(0,Z.jsx)(i.ZP,{item:!0,justifyContent:"center",container:!0,children:(0,Z.jsx)(l.Z,{marginTop:.5,size:"1.75rem"})}),g&&g.map((function(n,r){var t=n.card&&n.card.gateway_token&&n.card.gateway_token.length>0?n.card.gateway_token[0]:null;if(t&&t.gateway===_)return(0,Z.jsx)(u.ZP,{sx:{borderBottom:r==g.length-1?"none":"1px solid",borderColor:"#f1f1f1"},children:(0,Z.jsxs)(i.ZP,{item:!0,xs:12,direction:"row",container:!0,children:[(0,Z.jsxs)(i.ZP,{item:!0,xs:10,container:!0,alignContent:"center",children:[n.card&&n.card.brand?(0,p.getCardIcon)(n.card.brand):(0,Z.jsx)(h.DefaultCardIcon,{}),(0,Z.jsxs)(c.Z,{marginLeft:5,variant:"h6",sx:{display:"flex",alignItems:"center"},children:["**** ",n.card?n.card.last4:""," ",n.is_primary&&(0,Z.jsx)(c.Z,{paddingLeft:1,variant:"subtitle2",color:j.success.main,component:"span",children:"Primary"})]})]}),(0,Z.jsx)(i.ZP,{item:!0,xs:2,container:!0,justifyContent:"flex-end",alignContent:"center",children:(0,Z.jsx)(d.Z,{sx:{background:"transparent"},disabled:!k&&n.is_primary,onClick:k?function(){return e.onRemoveCard(n)}:function(){return e.onSetPrimaryCard(n)},children:k?(0,Z.jsx)(h.RemoveIcon,{color:j.error.main}):n.is_primary?(0,Z.jsx)(h.RadioCheckedIcon,{}):(0,Z.jsx)(h.RadioIcon,{})})})]})},r)})),(0,Z.jsx)(x.Z,{id:"myCards/btnAddACardOrder",variant:"contained",fullWidth:"true",sx:{marginTop:4,borderRadius:4},onClick:e.onShowAddCardForm,children:r("add_a_card")})]}),v&&(0,Z.jsxs)(s.Z,{children:[(0,Z.jsxs)(i.ZP,{item:!0,direction:"row",my:4,container:!0,xs:12,children:[(0,Z.jsx)(i.ZP,{item:!0,xs:12,container:!0,alignContent:"center",children:(0,Z.jsx)(c.Z,{variant:"h6",children:r("my_cards_rewards")})}),(0,Z.jsx)(i.ZP,{item:!0,xs:12,container:!0,justifyContent:"flex-end",alignContent:"center",children:(0,Z.jsx)(d.Z,{sx:{background:"transparent"},onClick:function(){return P((function(e){return!e}))},children:k?(0,Z.jsx)(c.Z,{children:"Done"}):(0,Z.jsx)(h.DeleteIcon,{color:"#8D3395"})})})]}),e.showLoading&&(0,Z.jsx)(i.ZP,{item:!0,justifyContent:"center",container:!0,children:(0,Z.jsx)(l.Z,{marginTop:.5,size:"1.75rem"})}),g&&g.map((function(n,r){var t=n.card&&n.card.gateway_token&&n.card.gateway_token.length>0?n.card.gateway_token[0]:null;if(t&&"JCC_MERCHANT"===t.gateway)return(0,Z.jsx)(u.ZP,{sx:{borderBottom:r==g.length-1?"none":"1px solid",borderColor:"#f1f1f1"},children:(0,Z.jsxs)(i.ZP,{item:!0,direction:"row",container:!0,children:[(0,Z.jsxs)(i.ZP,{item:!0,xs:12,container:!0,alignContent:"center",children:[n.card&&n.card.brand?(0,p.getCardIcon)(n.card.brand):(0,Z.jsx)(h.DefaultCardIcon,{}),(0,Z.jsxs)(c.Z,{marginLeft:5,variant:"h6",sx:{display:"flex",alignItems:"center"},children:["**** ",n.card?n.card.last4:""," ",n.is_primary&&(0,Z.jsx)(c.Z,{paddingLeft:1,variant:"subtitle2",color:j.success.main,component:"span",children:"Primary"})]})]}),(0,Z.jsx)(i.ZP,{item:!0,xs:12,container:!0,justifyContent:"flex-end",alignContent:"center",children:(0,Z.jsx)(d.Z,{sx:{background:"transparent"},disabled:!k&&n.is_primary,onClick:k?function(){return e.onRemoveCard(n)}:function(){return e.onSetPrimaryCard(n)},children:k?(0,Z.jsx)(h.RemoveIcon,{color:j.error.main}):n.is_primary?(0,Z.jsx)(h.RadioCheckedIcon,{}):(0,Z.jsx)(h.RadioIcon,{})})})]})},r)})),(0,Z.jsx)(x.Z,{id:"myCards/btnAddACardReward",variant:"contained",fullWidth:!0,sx:{marginTop:4,borderRadius:4},onClick:e.onShowAddCardForm,children:r("add_a_card")})]})]}),e.showAddCardForm&&(0,Z.jsx)(y,{isOpen:e.showAddCardForm,onClose:e.onShowAddCardForm})]})}}}]);
//# sourceMappingURL=907.64d6eab8.chunk.js.map